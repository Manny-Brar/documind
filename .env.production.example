# ==============================================================================
# Production Environment Configuration
# ==============================================================================
# Copy to .env.production and fill in values before deploying
#
# For Cloud Run deployments, these values should be set in Secret Manager
# and referenced via cloudbuild.yaml --set-secrets flag
# ==============================================================================

# ===================
# Server Configuration
# ===================
NODE_ENV=production
PORT=8080
HOST=0.0.0.0

# ===================
# Database
# ===================
# PostgreSQL connection string
# For Cloud SQL: postgresql://USER:PASSWORD@/DATABASE?host=/cloudsql/PROJECT:REGION:INSTANCE
DATABASE_URL=postgresql://documind:your-password@postgres:5432/documind

# For docker-compose (local production testing)
DB_USER=documind
DB_PASSWORD=your-secure-password-here
DB_NAME=documind

# ===================
# Authentication
# ===================
# Generate with: openssl rand -base64 32
BETTER_AUTH_SECRET=your-32-char-secret-here
BETTER_AUTH_URL=https://api.your-domain.com

# CORS origin (your frontend URL, comma-separated for multiple)
CORS_ORIGIN=https://your-domain.com,https://www.your-domain.com

# ===================
# Google OAuth
# ===================
# Get from: https://console.cloud.google.com/apis/credentials
# 1. Create an OAuth 2.0 Client ID (Web application)
# 2. Add Authorized JavaScript origins: https://your-domain.com
# 3. Add Authorized redirect URI: https://api.your-domain.com/api/auth/callback/google
GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-client-secret

# ===================
# Google Cloud Platform
# ===================
GCP_PROJECT_ID=your-project-id
GCP_LOCATION=us-central1

# Cloud Storage bucket for document uploads
GCS_BUCKET=your-bucket-name

# Service account credentials
# For Cloud Run: Use Workload Identity (recommended) - no key needed
# For other deployments: Provide JSON credentials
# GCS_CREDENTIALS='{"type":"service_account",...}'
# OR
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json

# ===================
# Stripe Billing
# ===================
# Get keys from: https://dashboard.stripe.com/apikeys
# Use live keys for production (sk_live_..., pk_live_...)
STRIPE_SECRET_KEY=sk_live_...
STRIPE_PUBLISHABLE_KEY=pk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Stripe Price IDs for subscription plans
# Create these in Stripe Dashboard > Products
STRIPE_PRICE_PRO_MONTHLY=price_...
STRIPE_PRICE_PRO_YEARLY=price_...
STRIPE_PRICE_BUSINESS_MONTHLY=price_...
STRIPE_PRICE_BUSINESS_YEARLY=price_...

# ===================
# Email Service (Resend)
# ===================
# Get API key from: https://resend.com/api-keys
RESEND_API_KEY=re_...

# Email sender configuration
EMAIL_FROM=DocuMind <noreply@your-domain.com>
EMAIL_REPLY_TO=support@your-domain.com

# ===================
# API URLs (for docker-compose)
# ===================
API_URL=https://api.your-domain.com
WEB_URL=https://your-domain.com

# ===================
# Logging & Monitoring
# ===================
LOG_LEVEL=info

# ===================
# Feature Flags (optional)
# ===================
# FEATURE_KNOWLEDGE_GRAPH=true
# FEATURE_GEMINI_SEARCH=true
